<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AIDOME 데이터 관리</title>
  <link rel="icon" href="/static/favicon.svg" type="image/svg+xml" />
  <link rel="stylesheet" href="/static/styles.css" />
</head>
<body>
  <main class="container">
    <div class="topbar">
      <h1>데이터 관리 콘솔</h1>
      <div class="row">
        <a class="link-btn" href="/company-search">업체검색</a>
        <a class="link-btn" href="/">전략 수립</a>
        <a class="link-btn" href="/admin">운영 콘솔</a>
        <button id="logoutBtn" type="button">로그아웃</button>
      </div>
    </div>

    <section class="card">
      <h2>운영 대시보드</h2>
      <div class="kpi-grid">
        <div class="kpi-card">
          <span class="kpi-label">인덱스 상태</span>
          <strong id="kpiIndexLoaded">-</strong>
        </div>
        <div class="kpi-card">
          <span class="kpi-label">인덱스 청크 수</span>
          <strong id="kpiChunkCount">-</strong>
        </div>
        <div class="kpi-card">
          <span class="kpi-label">뉴스 파일 수</span>
          <strong id="kpiNewsCount">-</strong>
        </div>
        <div class="kpi-card">
          <span class="kpi-label">최종 업데이트</span>
          <strong id="kpiUpdatedAt">-</strong>
        </div>
      </div>
    </section>

    <section class="card">
      <h2>대상 회사</h2>
      <div class="row wrap">
        <label>
          대상 회사(쉼표 구분)
          <input id="commonCompanies" type="text" value="" placeholder="예: BYC, 삼성전자, 001460.KS" />
        </label>
      </div>
      <p class="muted">대량 수집을 제외한 작업은 대상 회사 기준으로 수행합니다.</p>
    </section>

    <section class="card">
      <h2>공시 데이터 대량 수집</h2>
      <div class="row wrap">
        <button id="disclosureStartBtn" type="button">실행</button>
        <button id="disclosureStopBtn" class="ghost-btn" type="button">중지</button>
      </div>
      <label for="disclosureProgressBar">진행률</label>
      <progress id="disclosureProgressBar" max="100" value="0" style="width: 100%;"></progress>
      <pre id="disclosureStatusView">아직 실행 없음</pre>
    </section>

    <section class="card">
      <h2>데이터 상태</h2>
      <button id="refreshBtn">새로고침</button>
      <pre id="statusView">로딩 중...</pre>
    </section>
  </main>
  <script src="/static/admin.js?v=20260218c"></script>
</body>
</html>
